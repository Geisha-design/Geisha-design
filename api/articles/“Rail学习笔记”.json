{"title":"Rails学习笔记-11.2","slug":"“Rail学习笔记”","date":"2020-02-12T13:41:00.000Z","updated":"2022-01-04T13:49:04.693Z","comments":true,"path":"api/articles/“Rail学习笔记”.json","photos":[],"link":"","excerpt":"11.2 迭代F2:建立一个基于Ajax的购物车，开始是按照书里面写的，创建create.js.rjs，网上查了，需要使用protype-rails gem，于是安装了，但是页面点击后ajax没有效果，需要手动刷新后才能出现。于是在网上查了,由于默认使用jquery，所以就改成了jquery的，创建create.js.erb，内容为$(‘#cart’).html(“&lt;%= escape_javascript(render(@cart)) %&gt;”);","covers":null,"content":"<p>11.2 迭代F2:建立一个基于Ajax的购物车，开始是按照书里面写的，创建create.js.rjs，网上查了，需要使用protype-rails gem，于是安装了，但是页面点击后ajax没有效果，需要手动刷新后才能出现。于是在网上查了,由于默认使用jquery，所以就改成了jquery的，创建create.js.erb，内容为$(‘#cart’).html(“&lt;%= escape_javascript(render(@cart)) %&gt;”); <span id=\"more\"></span></p>\n<p>按照网上仁兄的做法来的：</p>\n<p>1.\\app\\views\\layouts\\application.html.erb<br>&lt;%= javascript_include_tag :defaults %&gt; to &lt;%= javascript_include_tag “application” %&gt;<br>2.app/views/line_items/create.js.rjs 成create.js.erb，并修改内容：<br>$(‘#cart’).html(“&lt;%= escape_javascript(render(@cart)) %&gt;”);</p>\n<p>3.修改line_items_controller中的create方法， 加入format.js</p>\n<p>传送门:<a href=\"http://ruby-china.org/topics/6154\" target=\"_blank\">RubyChina</a></p>\n","categories":[{"name":"java","slug":"java","count":2,"path":"api/categories/java.json"}],"tags":[{"name":"rails","slug":"rails","count":1,"path":"api/tags/rails.json"},{"name":"web","slug":"web","count":1,"path":"api/tags/web.json"}]}