<!DOCTYPE html>
<html lang="en">
  <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/4.3.1'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link rel="preload" href="../../../../css/first.css" as="style">
  

  <!-- 页面元数据 -->
  
  <title>hexo主题美化进阶&lt;hexo主题美化进阶&gt; - 齐雨争</title>
  
    <meta name="keywords" content="hexo">
  

  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  
    <link rel="shortcut icon" type='image/x-icon' href="../../../../https:/www.cncrush.cn/images/favicon.ico">
  

  <!-- import link -->
  

  
    
<link rel="stylesheet" href="../../../../css/first.css">

  

  
  <link rel="stylesheet" href="../../../../css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="../../../../css/style.css"></noscript>
  

  <script id="loadcss"></script>

  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        '<h1><b>抱歉，您的浏览器无法访问本站</b></h1>'+
        '<h3>微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>'+
        '继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</h3><br/>'+
        '<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/WindowsForBusiness/End-of-IE-support"><strong>了解详情 ></strong></a>'+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
	</style>
    <div class="kill-noscript">
        <h1><b>抱歉，您的浏览器无法访问本站</b></h1>
        <h3>本页面需要浏览器支持（启用）JavaScript</h3><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a>
    </div>
</noscript>

</head>

  <body>
  </script>

    

<header id="l_header" class="l_header auto shadow blur " style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='../../../../index.html'>
          
            <img no-lazy class='logo' src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/Logo-NavBar@3x.png'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../index.html
                  
                  
                  
                    id="indexhtml"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="你走之后酒暖回忆思念瘦" />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../index.html
                  
                  
                  
                    id="indexhtml"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fas fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../friends/
                  
                  
                  
                    id="friends"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=../../../../about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fas fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
        <div id="half" class='cover-wrapper post search' style="display: ;">
          
            <div id='cover-backstretch'></div>
          
          <div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">截面樱</p>
    
    
  </div>
  <div class='bottom'>
    
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <input type="text" class="input u-search-input" placeholder="穿梭时间的画面的钟，从反方向开始移动" />
          <i class="icon fas fa-search fa-fw"></i>
        </form>
      </div>
    
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="../../../../v4/getting-started/"
              
              
              id="v4getting-started">
              <p>文档</p>
            </a>
          
            <a href="../../../../faqs/"
              
              
              id="faqs">
              <p>帮助</p>
            </a>
          
            <a href="../../../../examples/"
              
              
              id="examples">
              <p>示例</p>
            </a>
          
            <a href="../../../../contributors/"
              
              
              id="contributors">
              <p>社区</p>
            </a>
          
            <a href="../../../../archives/"
              
              
              id="archives">
              <p>博客</p>
            </a>
          
            <a href="../../../../https:/github.com/Geisha-design"
              
              
              id="https:githubcomGeisha-design">
              <p>源码</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

      <div id="safearea">
        <div class="body-wrapper" id="pjax-container">
          

<div class='l_main'>
  <article class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost">
  


  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        hexo主题美化进阶<hexo主题美化进阶>
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="/" rel="nofollow">
    <img no-lazy src="">
    <p>雨争齐齐齐</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="../../../../categories/hexo/">hexo</a>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：Nov 19, 2020</p>
  </a>
</div>

          
        
          
            
  <div class="new-meta-item browse leancloud">
    <a class='notlink'>
      
      <div id="lc-pv" data-title="hexo主题美化进阶<hexo主题美化进阶>" data-path="">
        <i class="fas fa-eye fa-fw" aria-hidden="true"></i>
        <span id='number'><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span>
        次浏览
      </div>
    </a>
  </div>


          
        
      </div>
    
  </div>


  
  
  <h1 id="hexo之Volantis主题美化"><a href="#hexo之Volantis主题美化" class="headerlink" title="hexo之Volantis主题美化"></a>hexo之Volantis主题美化</h1><p><em><strong>此博客为转载学习博客。</strong></em></p>
<p><img src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" class="lazyload" data-srcset="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<p>置顶  <a target="_blank" rel="noopener" href="https://me.csdn.net/qq_45428737">阳光派plus</a>  2020-05-23 15:24:13  <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" class="lazyload" data-srcset="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">  784 <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png" class="lazyload" data-srcset="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">  收藏  7</p>
<p>分类专栏：  <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45428737/category_9916148.html">博客</a>  文章标签：  <a target="_blank" rel="noopener" href="https://www.csdn.net/gather_2c/OtDaQg2sNzExLWJsb2cO0O0O.html">javascript</a>  <a target="_blank" rel="noopener" href="https://www.csdn.net/gather_2f/MtTaEg0sMzc5NzAtYmxvZwO0O0OO0O0O.html">前端</a>  <a target="_blank" rel="noopener" href="https://www.csdn.net/gather_22/MtTaEg0sMzgzMjEtYmxvZwO0O0OO0O0O.html">css3</a>  <a target="_blank" rel="noopener" href="https://www.csdn.net/gather_2c/MtzaUg4sNDIwOC1ibG9n.html">github</a>  <a target="_blank" rel="noopener" href="https://www.csdn.net/gather_2f/MtTaEg3sMTYyNzYtYmxvZwO0O0OO0O0O.html">经验分享</a></p>
<p>版权</p>
<p>具体效果请移步我的博客👉<a target="_blank" rel="noopener" href="https://www.zyoushuo.cn/post/1788.html">阳光派Plus</a><br>更：<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45428737/article/details/108134574">添加暗黑模式</a><br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45428737/article/details/108086742">添加鼠标右键功能</a><br>3.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45428737/article/details/108061722">添加页面预加载功能</a></p>
<p>7.20 更新<br>★valine评论区卡片式背景<br>★添加鼠标样式<br>★文章首字下沉<br>★文章末尾版权<br>★修改页面卡片阴影<br>6.15 更新<br>★修改valine表情区域样式<br>★主页、正文区域文章标题居中<br>★博客文章链接优化</p>
<h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><ul>
<li><ul>
<li><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#_24">一、主界面显示</a><pre><code>-   -   [1、设置主页logo](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#1logo_26)
    -   [2、添加小标题动态彩色字体](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#2_30)
    -   [3、界面间距](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#3_96)
-   [二、页面优化](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#_146)
-   -   [1、导航栏样式](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#1_148)
    -   [2、页面卡片阴影](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#2_196)
    -   [3、页面特效](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#3_230)
    -   -   [a、樱花](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#a_234)
        -   [b、鼠标滑动特效](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#b_242)
        -   [c、鼠标点击特效](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#c_250)
        -   [d、鼠标点击爱心特效](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#d_258)
        -   [e、鼠标点击社会主义价值观特效](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#e_266)
    -   [4、主页、正文文章标题居中](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#4_272)
    -   [5、博客文章链接优化](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#5_292)
    -   [6、添加鼠标样式](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#6_314)
    -   [7、文章首字下沉](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#7_326)
    -   [8、文章末尾版权](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#8_351)
-   [三、valine评论优化](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#valine_373)
-   -   [1、Valine添加博主标签](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#1Valine_374)
    -   [2、评论添加一言](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#2_491)
    -   [3、添加评论背景](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#3_527)
    -   [4、添加自定义表情](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#4_551)
    -   [5、修改表情区域样式](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#5_665)
    -   [6、评论区卡片式背景](https://blog.csdn.net/qq_45428737/article/details/106299049?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control#6_679)
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>☀️  写在前面<br>本教程适用于Volantis2.6.4及以上的版本，如果版本不同，文件位置可能会有些不同。不过总体不影响。可以查看作者更新文档。当然也不仅局限于Volantis主题，其他主题按照自身的语法格式同样可修改。Volantis主题已升级到3.0版本，有些文件位置与2.X版本有所不同，文中会提出。<br>本文中涉及到修改.styl后缀的文件时一定要注意格式，不能多一个会少一个空格<br>●主界面优化<br>●页面优化<br>●评论区优化</p>
<h4 id="一、主界面显示"><a href="#一、主界面显示" class="headerlink" title="一、主界面显示"></a>一、主界面显示</h4><h5 id="1、设置主页logo"><a href="#1、设置主页logo" class="headerlink" title="1、设置主页logo"></a>1、设置主页logo</h5><p>默认显示文字显得有些单调，故选择使用图片logo代替文字显示标题。修改主题配置文件<code>_config.yml</code>中的cover，添加logo属性值。</p>
<h5 id="2、添加小标题动态彩色字体"><a href="#2、添加小标题动态彩色字体" class="headerlink" title="2、添加小标题动态彩色字体"></a>2、添加小标题动态彩色字体</h5><p>修改主题配置文件<code>_config.yml</code>中的cover。去除subtitile属性值；在 themes/volantis/layout/_cover中index.ejs文件中添加如下代码(文字部分可修改)：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 封面滚动字体 --&gt;</span><br><span class="line">&lt;div id=<span class="string">&quot;binft&quot;</span>&gt;&lt;/div&gt; </span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> binft = <span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">t</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * b.length)]</span><br><span class="line">      &#125;  </span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">String</span>.fromCharCode(<span class="number">94</span> * <span class="built_in">Math</span>.random() + <span class="number">33</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">r</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n = <span class="built_in">document</span>.createDocumentFragment(), i = <span class="number">0</span>; r &gt; i; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> l = <span class="built_in">document</span>.createElement(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">          l.textContent = e(), l.style.color = t(), n.appendChild(l)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> t = o[c.skillI];</span><br><span class="line">        c.step ? c.step-- : (c.step = g, c.prefixP &lt; l.length ? (c.prefixP &gt;= <span class="number">0</span> &amp;&amp; (c.text += l[c.prefixP]), c.prefixP++) : <span class="string">&quot;forward&quot;</span> === c.direction ? c.skillP &lt; t.length ? (c.text += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = <span class="string">&quot;backward&quot;</span>, c.delay = a) : c.skillP &gt; <span class="number">0</span> ? (c.text = c.text.slice(<span class="number">0</span>, -<span class="number">1</span>), c.skillP--) : (c.skillI = (c.skillI + <span class="number">1</span>) % o.length, c.direction = <span class="string">&quot;forward&quot;</span>)), r.textContent = c.text, r.appendChild(n(c.prefixP &lt; l.length ? <span class="built_in">Math</span>.min(s, s + c.prefixP) : <span class="built_in">Math</span>.min(s, t.length - c.skillP))), <span class="built_in">setTimeout</span>(i, d)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> l = <span class="string">&quot;&quot;</span>,</span><br><span class="line">      o = [<span class="string">&quot;山有木兮木有枝，心悦君兮君不知。&quot;</span>, <span class="string">&quot;人生若只如初见，何事秋风悲画扇。&quot;</span>,<span class="string">&quot;十年生死两茫茫，不思量，自难忘。&quot;</span>, <span class="string">&quot;曾经沧海难为水，除却巫山不是云。&quot;</span>,<span class="string">&quot;洛中何郁郁，冠带自相索。&quot;</span>,<span class="string">&quot;只愿君心似我心，定不负相思意。&quot;</span>,<span class="string">&quot;愿得一心人，白头不相离。&quot;</span>,<span class="string">&quot;入我相思门，知我相思苦。&quot;</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> r + <span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;),</span><br><span class="line">      a = <span class="number">2</span>,</span><br><span class="line">      g = <span class="number">1</span>,</span><br><span class="line">      s = <span class="number">5</span>,</span><br><span class="line">      d = <span class="number">75</span>,</span><br><span class="line">      b = [<span class="string">&quot;rgb(110,64,170)&quot;</span>, <span class="string">&quot;rgb(150,61,179)&quot;</span>, <span class="string">&quot;rgb(191,60,175)&quot;</span>, <span class="string">&quot;rgb(228,65,157)&quot;</span>, <span class="string">&quot;rgb(254,75,131)&quot;</span>, <span class="string">&quot;rgb(255,94,99)&quot;</span>, <span class="string">&quot;rgb(255,120,71)&quot;</span>, <span class="string">&quot;rgb(251,150,51)&quot;</span>, <span class="string">&quot;rgb(226,183,47)&quot;</span>, <span class="string">&quot;rgb(198,214,60)&quot;</span>, <span class="string">&quot;rgb(175,240,91)&quot;</span>, <span class="string">&quot;rgb(127,246,88)&quot;</span>, <span class="string">&quot;rgb(82,246,103)&quot;</span>, <span class="string">&quot;rgb(48,239,130)&quot;</span>, <span class="string">&quot;rgb(29,223,163)&quot;</span>, <span class="string">&quot;rgb(26,199,194)&quot;</span>, <span class="string">&quot;rgb(35,171,216)&quot;</span>, <span class="string">&quot;rgb(54,140,225)&quot;</span>, <span class="string">&quot;rgb(76,110,219)&quot;</span>, <span class="string">&quot;rgb(96,84,200)&quot;</span>],</span><br><span class="line">      c = &#123;</span><br><span class="line">        text: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        prefixP: -s,</span><br><span class="line">        skillI: <span class="number">0</span>,</span><br><span class="line">        skillP: <span class="number">0</span>,</span><br><span class="line">        direction: <span class="string">&quot;forward&quot;</span>,</span><br><span class="line">        delay: a,</span><br><span class="line">        step: g</span><br><span class="line">      &#125;;</span><br><span class="line">      i()</span><br><span class="line">      &#125;;</span><br><span class="line">      binft(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;binft&#x27;</span>));</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=&#x27;a&#x27;&gt;</span><br><span class="line">    &lt;% if (theme.cover.logo) &#123; %&gt;</span><br><span class="line">      &lt;img class=&#x27;logo&#x27; src=&#x27;&lt;%- url_for(theme.cover.logo) %&gt;&#x27;/&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;% if (theme.cover.title) &#123; %&gt;</span><br><span class="line">      &lt;p class=&quot;title&quot;&gt;&lt;%- theme.cover.title ? theme.cover.title : config.title %&gt;&lt;/p&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;% if (theme.cover.subtitle) &#123; %&gt;</span><br><span class="line">      &lt;p class=&quot;subtitle&quot;&gt;&lt;%- theme.cover.subtitle%&gt;&lt;/p&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line"><span class="addition">+     此处添加代码</span></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个滚动字体可以加在任何位置。</p>
<h5 id="3、界面间距"><a href="#3、界面间距" class="headerlink" title="3、界面间距"></a>3、界面间距</h5><p>原界面处title,subtitle,searc,menu之间间距感觉有点大，所以调整了一下。在 themes/volantis/source/css/_layout中的<code>cover.styl</code>文件修改margin-top，margin-bottom的值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cover-wrapper</span> <span class="selector-class">.cover</span></span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">  left: <span class="number">0</span></span><br><span class="line">  max-width: <span class="number">100%</span></span><br><span class="line">  height: <span class="number">100vh</span></span><br><span class="line">  display: flex</span><br><span class="line">  flex-wrap: nowrap</span><br><span class="line">  flex-direction: column</span><br><span class="line">  align-items: center</span><br><span class="line">  align-self: center</span><br><span class="line">  align-content: center</span><br><span class="line">  color: $color-site-inner</span><br><span class="line">  padding: $gap</span><br><span class="line">  .cover-body</span><br><span class="line">    div.b</span><br><span class="line">      margin-top: <span class="number">3vh</span></span><br><span class="line">      margin-bottom: <span class="number">8vh</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>另：在界面中导航栏部分默认第一个会有下划线，如下</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8yLnBuZw?x-oss-process=image/format,png" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8yLnBuZw?x-oss-process=image/format,png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<p>去除方法：在themes/volantis/source/css/_layout中<code>cover.styl</code>文件，大概在148行处，删除border-bottom属性</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    ul&gt;li&gt;a</span><br><span class="line">      font-size: $fontsize-meta</span><br><span class="line">      padding: 2px</span><br><span class="line">      margin: 4px</span><br><span class="line">      trans()</span><br><span class="line">      color: alpha($color-site-inner, .65)</span><br><span class="line">      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05)</span><br><span class="line">      border-bottom: 2px solid transparent</span><br><span class="line">      i</span><br><span class="line">        margin-right: 4px</span><br><span class="line">      &amp;:hover, &amp;.active, &amp;:active</span><br><span class="line">        color: $color-site-inner</span><br><span class="line"><span class="deletion">-       border-bottom: 2px solid $color-site-inner(删除此行)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总体效果：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8xLnBuZw?x-oss-process=image/format,png" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8xLnBuZw?x-oss-process=image/format,png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<h4 id="二、页面优化"><a href="#二、页面优化" class="headerlink" title="二、页面优化"></a>二、页面优化</h4><h5 id="1、导航栏样式"><a href="#1、导航栏样式" class="headerlink" title="1、导航栏样式"></a>1、导航栏样式</h5><p>主要是在原基础上添加了一个渐变背景。</p>
<p>首先在主题配置文件<code>_config.yml</code>中navbar的effext毛玻璃特效（blur）去掉。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">style:</span><br><span class="line">  font_smoothing: false # font-smoothing for webkit</span><br><span class="line">  max_width: 1280px # Sum of body width and sidebar width (This limit will be exceeded           when the device width is greater than 2000px, reaching 75% of the total width)</span><br><span class="line">  scrollbar:</span><br><span class="line">    size: 4px</span><br><span class="line">    border: 2px</span><br><span class="line">    color: &#x27;#2196f3&#x27;</span><br><span class="line">    hover: &#x27;#ff5722&#x27;</span><br><span class="line">  navbar:</span><br><span class="line">    height: 64px</span><br><span class="line">    width: auto # auto, max</span><br><span class="line"><span class="deletion">-   effect: [shadow, blur] # [shadow, floatable, blur]</span></span><br><span class="line"><span class="addition">+   effect: [shadow] # [shadow, floatable, blur]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后在themes\volantis\source\css_layout\navbar.styl中，大概25行处添加代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to top, <span class="number">#fff1eb</span> <span class="number">0%</span>, <span class="number">#ace0f9</span> <span class="number">100%</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.l_header</span><br><span class="line">  $iconW = 32px</span><br><span class="line">  $iconMargin = 4px</span><br><span class="line">  position: fixed</span><br><span class="line">  z-index: 1000</span><br><span class="line">  top: 0</span><br><span class="line">  width: 100%</span><br><span class="line">  height: $navbar-height</span><br><span class="line">  background: $color-card</span><br><span class="line"><span class="addition">+ background-image: linear-gradient(to top, #fff1eb 0%, #ace0f9 100%)</span></span><br><span class="line">  box-shadow: $boxshadow-card</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8zLnBuZw?x-oss-process=image/format,png" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV8zLnBuZw?x-oss-process=image/format,png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<p>附上一个免费的CSS渐变背景样式网站👉<a target="_blank" rel="noopener" href="http://color.oulu.me/">CSS背景渐变</a></p>
<h5 id="2、页面卡片阴影"><a href="#2、页面卡片阴影" class="headerlink" title="2、页面卡片阴影"></a>2、页面卡片阴影</h5><p>在主页面中的文章、侧边栏添加一点阴影，并在鼠标悬停时出现阴影。</p>
<p>在themes\volantis\source\css_layout中<code>main.styl</code>文件，找到<code>.white-box</code>属性,在background下方添加代码：<br>主页文章：在\themes\volantis\source\css_layout中<code>main.styl</code>文件，找到<code>.post-wrapper</code>属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.post-wrapper</span></span><br><span class="line">    column-<span class="attribute">break-inside</span>: avoid</span><br><span class="line">    break-inside: avoid-column</span><br><span class="line">+   box-shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">20px</span> -<span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>)</span><br><span class="line">+   border-radius: <span class="number">8px</span></span><br><span class="line">+   transition: box-shadow .<span class="number">5s</span> ease</span><br><span class="line">+   &amp;:hover</span><br><span class="line">+     box-shadow:<span class="number">0px</span> <span class="number">1px</span> <span class="number">20px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在themes\volantis\source\css_layout中<code>sidebar.styl</code>文件，找到<code>.widget</code>属性，在display下方添加上面同样的代码。<br>侧边栏：在themes\volantis\source\css_layout中<code>sidebar.styl</code>文件，找到<code>.widget</code>属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.widget</span></span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">0</span></span><br><span class="line">  background: $color-card</span><br><span class="line">  margin-top: $gap</span><br><span class="line">  border-radius: $border-card</span><br><span class="line">  width: <span class="number">100%</span></span><br><span class="line">  display: none</span><br><span class="line">+ box-shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">20px</span> -<span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>)</span><br><span class="line">+ transition: box-shadow .<span class="number">5s</span> ease</span><br><span class="line">+ &amp;:hover</span><br><span class="line">+   box-shadow:<span class="number">0px</span> <span class="number">1px</span> <span class="number">20px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意格式！</p>
<h5 id="3、页面特效"><a href="#3、页面特效" class="headerlink" title="3、页面特效"></a>3、页面特效</h5><p>以下特效整理于网上分享的js代码，均在themes\volantis\layout中<code>layout.ejs</code>文件body里面直接引用即可。(不限制于Volantis主题)</p>
<h6 id="a、樱花"><a href="#a、樱花" class="headerlink" title="a、樱花"></a>a、樱花</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV80LmdpZg" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV80LmdpZg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/sakura.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="b、鼠标滑动特效"><a href="#b、鼠标滑动特效" class="headerlink" title="b、鼠标滑动特效"></a>b、鼠标滑动特效</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV81LmdpZg" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV81LmdpZg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/mouse_slide.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="c、鼠标点击特效"><a href="#c、鼠标点击特效" class="headerlink" title="c、鼠标点击特效"></a>c、鼠标点击特效</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV82LmdpZg" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV82LmdpZg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/mouse_click.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="d、鼠标点击爱心特效"><a href="#d、鼠标点击爱心特效" class="headerlink" title="d、鼠标点击爱心特效"></a>d、鼠标点击爱心特效</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV83LmdpZg" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV83LmdpZg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/clicklove.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="e、鼠标点击社会主义价值观特效"><a href="#e、鼠标点击社会主义价值观特效" class="headerlink" title="e、鼠标点击社会主义价值观特效"></a>e、鼠标点击社会主义价值观特效</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV84LmdpZg" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV84LmdpZg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/clicksocialist.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4、主页、正文文章标题居中"><a href="#4、主页、正文文章标题居中" class="headerlink" title="4、主页、正文文章标题居中"></a>4、主页、正文文章标题居中</h5><p>主页面的文章、文章正文、关于/友链/留言板等自定义页面的标题居中。<br>文章地址 themes\volantis\source\css_layout\main.styl</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.post-wrapper</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: $gap</span><br><span class="line">    .post</span><br><span class="line">      div.meta</span><br><span class="line">        margin-bottom: $gap</span><br><span class="line">        .title</span><br><span class="line">          font-size: $fontsize-h2</span><br><span class="line">+         text-align: center</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      <span class="selector-class">.title</span></span><br><span class="line">        trans(.<span class="number">1s</span>)</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">+       text-align: center</span><br><span class="line">        color: $color-text</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="5、博客文章链接优化"><a href="#5、博客文章链接优化" class="headerlink" title="5、博客文章链接优化"></a>5、博客文章链接优化</h5><p>原本hexo中文章的链接是<code>:year/:month/:day/:title/</code>格式，有时候可能还会有乱码，不好看，所以通过插件修改。</p>
<p><strong>安装插件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>此插件跟<code>hexo-asset-image</code>插件有冲突（可以使用本地图片的插件），若使用这个插件，<code>hexo-asset-image</code>插件会失效。</p>
<p><strong>修改配置文件</strong><br>文件地址  <code>blog/_config.yml</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># permalink: :year/:month/:day/:title/</span><br><span class="line">+ permalink: post/:abbrlink.html  //post可以修改</span><br><span class="line">+ abbrlink:</span><br><span class="line">+   alg: crc16</span><br><span class="line">+   rep: hex</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后一键三连。然后链接就会变成<code>post/***.html</code>的格式。</p>
<h5 id="6、添加鼠标样式"><a href="#6、添加鼠标样式" class="headerlink" title="6、添加鼠标样式"></a>6、添加鼠标样式</h5><p>下载两个文件（<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/File/default.cur">文件一</a>、<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/File/pointer.cur">文件二</a>），文件放在<code>\blog\themes\volantis\source\img</code>中，然后在<code>index.styl</code>文件中引用。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box</span><br><span class="line">  outline: none</span><br><span class="line">  margin: <span class="number">0</span></span><br><span class="line">  padding: <span class="number">0</span></span><br><span class="line">+ cursor: <span class="built_in">url</span>(<span class="string">/img/default.cur</span>),auto</span><br><span class="line">+:link</span><br><span class="line">+ cursor: <span class="built_in">url</span>(<span class="string">/img/pointer.cur</span>),auto</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="7、文章首字下沉"><a href="#7、文章首字下沉" class="headerlink" title="7、文章首字下沉"></a>7、文章首字下沉</h5><p>设置文章中第一个p标签首字样式，达到下沉的效果。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span></span><br><span class="line">  underline()</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line">  .article-entry</span><br><span class="line">+   &gt;p</span><br><span class="line">+     &amp;:first-child::first-letter</span><br><span class="line">+       float: left</span><br><span class="line">+       margin-top: <span class="number">14px</span></span><br><span class="line">+       margin-right: <span class="number">6px</span></span><br><span class="line">+       color: <span class="number">#555</span></span><br><span class="line">+       font-size: <span class="number">42px</span></span><br><span class="line">+       line-height: <span class="number">28px</span></span><br><span class="line">+       font-style: normal</span><br><span class="line">+       font-weight: <span class="number">400</span></span><br><span class="line">+       +<span class="built_in">mobile</span>()&#123;</span><br><span class="line">+         margin-top: <span class="number">10px</span></span><br><span class="line">+         margin-right: <span class="number">4px</span></span><br><span class="line">+         font-size: <span class="number">26px</span></span><br><span class="line">+         line-height: <span class="number">20px</span></span><br><span class="line">+       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="8、文章末尾版权"><a href="#8、文章末尾版权" class="headerlink" title="8、文章末尾版权"></a>8、文章末尾版权</h5><p>修改默认的文章末尾版权区域样式。<br>修改样式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-tag">blockquote</span></span><br><span class="line">+    <span class="attribute">background</span>: <span class="number">#efefef</span>     //修改背景颜色</span><br><span class="line">+    border-left: $border-codeblock solid <span class="number">#575757</span>   //修改左边框颜色</span><br><span class="line">    border-radius: $border-codeblock</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>修改内容：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  copyright:</span><br><span class="line">    class: copyright</span><br><span class="line">    display: [desktop, mobile] # [desktop, mobile]</span><br><span class="line">    blockquote: true</span><br><span class="line">+    permalink: <span class="string">&#x27;🔗 本文链接：&#x27;</span></span><br><span class="line">    content:</span><br><span class="line">+     - <span class="string">&#x27;📚 本文由&lt;a href=&quot;https://www.zyoushuo.cn/&quot;&gt;阳光派Plus&lt;/a&gt;创作，转载请注明出处&#x27;</span></span><br><span class="line">+     - <span class="string">&#x27;🧾 博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议&#x27;</span></span><br><span class="line">+     - permalink</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>图标来自于<a target="_blank" rel="noopener" href="https://emojipedia.org/">📙 Emojipedia — 😃</a></p>
<h4 id="三、valine评论优化"><a href="#三、valine评论优化" class="headerlink" title="三、valine评论优化"></a>三、valine评论优化</h4><h5 id="1、Valine添加博主标签"><a href="#1、Valine添加博主标签" class="headerlink" title="1、Valine添加博主标签"></a>1、Valine添加博主标签</h5><p>此部分参考博主<a target="_blank" rel="noopener" href="https://blog.hclonely.com/">HCLonely Blog</a>的文章<a target="_blank" rel="noopener" href="https://blog.hclonely.com/posts/409d3090/">Valine添加博主标签及评论微信、QQ通知</a>。</p>
<p>Volantis主题添加需要修改一点语法格式。</p>
<p>★添加评论<code>QQ头像</code><br>★添加<code>博主</code>，<code>小伙伴</code>，<code>访客</code>标签<br>★添加<code>浏览器</code>和<code>操作系统</code>图标，需  <code>fontawesomeV5</code>  支持<br>★增加 QQ 邮箱识别<br>★<code>metaplaceholder</code>  可自定义</p>
<p>⑴ 首先引入valine的js代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;HCLonely&#x2F;Valine@latest&#x2F;dist&#x2F;Valine.min.js</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>本人使用的版本引入valine的js是在主题配置文件<code>_conflg.yml</code>的valine配置中，其他版本要是没有的话就在themes\volantis\layout_partial的<code>scripts.ejs</code>文件中找一下。</p>
<p>(2) 添加valine配置参数</p>
<p>参数</p>
<p>类型</p>
<p>说明</p>
<p>默认</p>
<p>实例</p>
<p>tagMeta</p>
<p>Array</p>
<p>标签要显示的文字</p>
<p>博主,小伙伴,访客</p>
<p>博主,小伙伴,访客</p>
<p>master</p>
<p>Array/String</p>
<p>md5 加密后的博主邮箱</p>
<p>.</p>
<p>315be36db8ad7b3e3a7bb0839d6fa839</p>
<p>friends</p>
<p>Array</p>
<p>md5 加密后的小伙伴邮箱</p>
<p>.</p>
<p>315be36db8ad7b3e3a7bb0839d6fa839</p>
<p>metaPlaceholder</p>
<p>Object</p>
<p>meta placeholder 内容</p>
<p>.</p>
<p>{“nick”:“昵称 / QQ 号”,“mail”:“邮箱 (必填)”}</p>
<p>md5加密需要完整的邮箱地址，例如QQ邮箱就是<a href="mailto:&#49;&#x32;&#51;&#x34;&#x35;&#x36;&#x37;&#x38;&#57;&#64;&#113;&#113;&#46;&#99;&#111;&#x6d;">&#49;&#x32;&#51;&#x34;&#x35;&#x36;&#x37;&#x38;&#57;&#64;&#113;&#113;&#46;&#99;&#111;&#x6d;</a>；加密必须是32位小写。<br>例如我的配置为</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">comments:</span><br><span class="line">  title: &lt;i class=&#x27;fas fa-comments&#x27;&gt;&lt;/i&gt; 评论</span><br><span class="line">  subtitle:</span><br><span class="line">  service: valine # valine, minivaline, disqus, gitalk, livere</span><br><span class="line">  valine:</span><br><span class="line">    appId:  ***# your appId</span><br><span class="line">    appKey: ***# your appKey</span><br><span class="line">    js: https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</span><br><span class="line">    path: # All pages use the same path (share the same comments data)</span><br><span class="line">    meta: nick,mail,link # valine comment header info</span><br><span class="line">    requiredFields: [&#x27;nick&#x27;,&#x27;mail&#x27;]</span><br><span class="line">    enableQQ: true # Unstable avatar link</span><br><span class="line">    placeholder: 快来评论吧~ # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">    avatar: robohash # gravatar style https://valine.js.org/avatar</span><br><span class="line">    pageSize: 10 # comment list page size</span><br><span class="line">    lang: zh-cn</span><br><span class="line">    highlight: true</span><br><span class="line">    visitor: true</span><br><span class="line">    mathJax: false</span><br><span class="line"><span class="addition">+   metaPlaceholder:</span></span><br><span class="line"><span class="addition">+     - nick: 阳光派Plus</span></span><br><span class="line"><span class="addition">+     - mail: ***@qq.com</span></span><br><span class="line"><span class="addition">+   tagMeta: 博主,小伙伴,访客</span></span><br><span class="line"><span class="addition">+   master: </span></span><br><span class="line"><span class="addition">+     - 487f87505f619bf9ea08f26bb34f8118</span></span><br><span class="line"><span class="addition">+   friends: </span></span><br><span class="line"><span class="addition">+     - 011c2b8a03f490e9aeab5d41a8a0469a</span></span><br><span class="line"><span class="addition">+     - 8fe874d093278833df8b7172113eca32</span></span><br><span class="line"><span class="addition">+     ......</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>附上一个MD5加密网站👉<a target="_blank" rel="noopener" href="https://md5jiami.51240.com/">MD5在线加密</a></p>
<p>(3) 添加valine渲染文件参数</p>
<p>在themes\volantis\layout_partial中<code>scripts.ejs</code>文件，找到enableValine，在valine.init中添加<br>（3.0版本文件位置在\themes\volantis\layout_third-party\comments\valine的scripts.ejs文件）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master: master,</span><br><span class="line">friends: friends,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> valine.init(&#123;</span><br><span class="line">    el: &#x27;#valine_container&#x27;,</span><br><span class="line">    meta: meta,</span><br><span class="line">    &lt;% if (page.valine &amp;&amp; page.valine.path) &#123; %&gt;</span><br><span class="line">      path: &quot;&lt;%= page.valine.path %&gt;&quot;,</span><br><span class="line">    &lt;% &#125; else if (theme.comments.valine.path) &#123; %&gt;</span><br><span class="line">      path: &quot;&lt;%= theme.comments.valine.path %&gt;&quot;,</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    appId: &quot;&lt;%= theme.comments.valine.appId %&gt;&quot;,</span><br><span class="line">    appKey: &quot;&lt;%= theme.comments.valine.appKey %&gt;&quot;,</span><br><span class="line">    placeholder: &quot;&lt;%= (page.valine &amp;&amp; page.valine.placeholder) ? page.valine.placeholder : theme.comments.valine.placeholder %&gt;&quot;,</span><br><span class="line">    pageSize:&#x27;&lt;%= theme.comments.valine.pageSize %&gt;&#x27;,</span><br><span class="line">    avatar:&#x27;&lt;%= theme.comments.valine.avatar %&gt;&#x27;,</span><br><span class="line">    lang:&#x27;&lt;%= theme.comments.valine.lang %&gt;&#x27;,</span><br><span class="line">    visitor: &#x27;&lt;%= theme.comments.valine.visitor %&gt;&#x27;,</span><br><span class="line">    highlight: &#x27;&lt;%= theme.comments.valine.highlight %&gt;&#x27;,</span><br><span class="line">    mathJax: &#x27;&lt;%= theme.comments.valine.mathJax %&gt;&#x27;,</span><br><span class="line">    enableQQ: &#x27;&lt;%= theme.comments.valine.enableQQ %&gt;&#x27;,</span><br><span class="line">    requiredFields: requiredFields,</span><br><span class="line"><span class="addition">+   emojiCDN: &#x27;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/emoji/&#x27;,</span></span><br><span class="line">    emojiMaps: emojiMaps,</span><br><span class="line"><span class="addition">+	master: master,</span></span><br><span class="line"><span class="addition">+	friends: friends,</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后在  <code>var valine = new Valine();</code>下方添加</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> friends = <span class="string">&#x27;&lt;%= theme.comments.valine.friends %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> master = <span class="string">&#x27;&lt;%= theme.comments.valine.master %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  var valine = new Valine();</span><br><span class="line"><span class="addition">+ var friends = &#x27;&lt;%= theme.comments.valine.friends %&gt;&#x27;.split(&#x27;,&#x27;);</span></span><br><span class="line"><span class="addition">+ var master = &#x27;&lt;%= theme.comments.valine.master %&gt;&#x27;.split(&#x27;,&#x27;);</span></span><br><span class="line">  function emoji(path, idx, ext) &#123;</span><br><span class="line">      return path + &quot;/&quot; + path + &quot;-&quot; + idx + &quot;.&quot; + ext;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2、评论添加一言"><a href="#2、评论添加一言" class="headerlink" title="2、评论添加一言"></a>2、评论添加一言</h5><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV85LnBuZw?x-oss-process=image/format,png" class="lazyload" data-srcset="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3p5b3VzaHVvL0Jsb2cvaW1hZ2VzL21laWh1YV85LnBuZw?x-oss-process=image/format,png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<p>在themes\volantis\layout_third-party中的<code>comments.ejs</code>文件，找到enableValine，在&lt;/ section&gt;上方添加代码<br>（3.0版本文件位置在\themes\volantis\layout_third-party\comments\valine的layout.ejs中）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- valine 添加一言 --&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot;</span> charset=<span class="string">&quot;utf-8&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">     jinrishici.load(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> jrsc_plac =  result.data.content + <span class="string">&quot;\n「&quot;</span> + result.data.origin.title + <span class="string">&quot;」&quot;</span> + result.data.origin.dynasty + <span class="string">&quot; · &quot;</span> + result.data.origin.author</span><br><span class="line">     <span class="built_in">document</span>.getElementById(<span class="string">&quot;veditor&quot;</span>).setAttribute(<span class="string">&quot;placeholder&quot;</span>,jrsc_plac);</span><br><span class="line">      &#125;);</span><br><span class="line"> &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (enableValine)&#123; %&gt;</span><br><span class="line">  &lt;section id=&quot;comments&quot;&gt;</span><br><span class="line">     &lt;div id=&quot;valine_container&quot; class=&quot;valine_thread&quot;&gt;</span><br><span class="line">       &lt;i class=&quot;fas fa-cog fa-spin fa-fw fa-2x&quot;&gt;&lt;/i&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">	 &lt;!-- valine 添加一言 --&gt;</span><br><span class="line"><span class="addition">+	&lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="addition">+       &lt;script type=&quot;text/javascript&quot;&gt;</span></span><br><span class="line"><span class="addition">+              jinrishici.load(function(result) &#123;</span></span><br><span class="line"><span class="addition">+            var jrsc_plac =  result.data.content + &quot;\n「&quot; + result.data.origin.title + &quot;」&quot; + result.data.origin.dynasty + &quot; · &quot; + result.data.origin.author</span></span><br><span class="line"><span class="addition">+             document.getElementById(&quot;veditor&quot;).setAttribute(&quot;placeholder&quot;,jrsc_plac);</span></span><br><span class="line"><span class="addition">+            &#125;);</span></span><br><span class="line"><span class="addition">+     &lt;/script&gt;</span></span><br><span class="line">   &lt;/section&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3、添加评论背景"><a href="#3、添加评论背景" class="headerlink" title="3、添加评论背景"></a>3、添加评论背景</h5><p>在themes\volantis\source\css_third-party中的<code>valine.styl</code>文件，找到vedit，在span标签下方再添加.veditor标签属性。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.veditor</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/zyoushuo/Blog/images/valinebg.webp</span>) <span class="number">100%</span> <span class="number">100%</span> no-repeat</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>背景可替换。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">        .vedit</span><br><span class="line">          .vctrl span</span><br><span class="line">            padding: 0</span><br><span class="line">            margin: 10px</span><br><span class="line">          span</span><br><span class="line">            fill: $color-p</span><br><span class="line">            &amp;.actived</span><br><span class="line">              fill: $color-theme</span><br><span class="line"><span class="addition">+		  .veditor</span></span><br><span class="line"><span class="addition">+		    background: url(https://cdn.jsdelivr.net/gh/zyoushuo/Blog/images/valinebg.webp) 100% 100% no-repeat</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4、添加自定义表情"><a href="#4、添加自定义表情" class="headerlink" title="4、添加自定义表情"></a>4、添加自定义表情</h5><p>目前我使用的版本，在主题配置文件_config.yml的valine配置中，即使引用不同的js，valine的表情还是没有变化，需要修改渲染文件。</p>
<p>在themes\volantis\layout_partial中的<code>scripts.ejs</code>文件，找到enableValine，在var emojiMaps = {}中即可添加。例如我的配置：<br>(3.0版本文件位置在\themes\volantis\layout_third-party\comments\valine的scripts.ejs文件）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> emojiMaps = &#123;</span><br><span class="line"><span class="string">&quot;doge&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/doge.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;亲亲&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/亲亲.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;偷笑&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/偷笑.png&quot;</span>,  </span><br><span class="line"><span class="string">&quot;再见&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/再见.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;冷漠&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/冷漠.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;发怒&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/发怒.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;发财&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/发财.png&quot;</span>,</span><br><span class="line">   <span class="string">&quot;可爱&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/可爱.png&quot;</span>,</span><br><span class="line">   .....</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这种方法适合对中文表情包，如果不在乎表情包名字的话可以按照作者的语法格式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">54</span>; i++) &#123;</span><br><span class="line">  emojiMaps[<span class="string">&#x27;tieba-&#x27;</span> + i] = emoji(<span class="string">&#x27;tieba&#x27;</span>, i, <span class="string">&#x27;png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">101</span>; i++) &#123;</span><br><span class="line">  emojiMaps[<span class="string">&#x27;qq-&#x27;</span> + i] = emoji(<span class="string">&#x27;qq&#x27;</span>, i, <span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">116</span>; i++) &#123;</span><br><span class="line">  emojiMaps[<span class="string">&#x27;aru-&#x27;</span> + i] = emoji(<span class="string">&#x27;aru&#x27;</span>, i, <span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">125</span>; i++) &#123;</span><br><span class="line">  emojiMaps[<span class="string">&#x27;twemoji-&#x27;</span> + i] = emoji(<span class="string">&#x27;twemoji&#x27;</span>, i, <span class="string">&#x27;png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">  emojiMaps[<span class="string">&#x27;weibo-&#x27;</span> + i] = emoji(<span class="string">&#x27;weibo&#x27;</span>, i, <span class="string">&#x27;png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>按照语法格式对表情包进行命名，比较方便。我的配置为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (enableValine)&#123; %&gt;</span><br><span class="line">  &lt;% <span class="keyword">if</span> (theme.comments.valine.js) &#123; %&gt;</span><br><span class="line">    &lt;%- js(theme.comments.valine.js) %&gt;</span><br><span class="line">  &lt;% &#125; <span class="keyword">else</span> &#123; %&gt;</span><br><span class="line">    &lt;%- js([<span class="string">&#x27;js/valine.js&#x27;</span>]) %&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> GUEST_INFO = [<span class="string">&#x27;nick&#x27;</span>,<span class="string">&#x27;mail&#x27;</span>,<span class="string">&#x27;link&#x27;</span>];</span><br><span class="line">  <span class="keyword">var</span> meta = <span class="string">&#x27;&lt;%= theme.comments.valine.meta %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> GUEST_INFO.indexOf(item) &gt; -<span class="number">1</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> REQUIRED_FIELDS = [<span class="string">&#x27;nick&#x27;</span>,<span class="string">&#x27;mail&#x27;</span>,<span class="string">&#x27;link&#x27;</span>];</span><br><span class="line">  <span class="keyword">var</span> requiredFields = <span class="string">&#x27;&lt;%= theme.comments.valine.requiredFields %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> REQUIRED_FIELDS.indexOf(item) &gt; -<span class="number">1</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> valine = <span class="keyword">new</span> Valine();</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">emoji</span>(<span class="params">path, idx, ext</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> path + <span class="string">&quot;/&quot;</span> + path + <span class="string">&quot;-&quot;</span> + idx + <span class="string">&quot;.&quot;</span> + ext;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> friends = <span class="string">&#x27;&lt;%= theme.comments.valine.friends %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> master = <span class="string">&#x27;&lt;%= theme.comments.valine.master %&gt;&#x27;</span>.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> emojiMaps = &#123;</span><br><span class="line">	<span class="string">&quot;doge&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/doge.png&quot;</span>,</span><br><span class="line">    <span class="string">&quot;亲亲&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/亲亲.png&quot;</span>,</span><br><span class="line">    <span class="string">&quot;偷笑&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/偷笑.png&quot;</span>,  </span><br><span class="line">    <span class="string">&quot;冷漠&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/冷漠.png&quot;</span>,</span><br><span class="line">    <span class="string">&quot;发怒&quot;</span>: <span class="string">&quot;https://cdn.jsdelivr.net/gh/zyoushuo/Blog@master/emoji/bilibili/发怒.png&quot;</span>,</span><br><span class="line">             ....</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">23</span>; i++) &#123;</span><br><span class="line">    emojiMaps[<span class="string">&#x27;weibo-&#x27;</span> + i] = emoji(<span class="string">&#x27;weibo&#x27;</span>, i, <span class="string">&#x27;png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">23</span>; i++) &#123;</span><br><span class="line">    emojiMaps[<span class="string">&#x27;tieba-&#x27;</span> + i] = emoji(<span class="string">&#x27;tieba&#x27;</span>, i, <span class="string">&#x27;png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">23</span>; i++) &#123;</span><br><span class="line">    emojiMaps[<span class="string">&#x27;bqb-&#x27;</span> + i] = emoji(<span class="string">&#x27;bqb&#x27;</span>, i, <span class="string">&#x27;jpg&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">23</span>; i++) &#123;</span><br><span class="line">    emojiMaps[<span class="string">&#x27;ya-&#x27;</span> + i] = emoji(<span class="string">&#x27;ya&#x27;</span>, i, <span class="string">&#x27;jpg&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  valine.init(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#valine_container&#x27;</span>,</span><br><span class="line">    meta: meta,</span><br><span class="line">    &lt;% <span class="keyword">if</span> (page.valine &amp;&amp; page.valine.path) &#123; %&gt;</span><br><span class="line">      path: <span class="string">&quot;&lt;%= page.valine.path %&gt;&quot;</span>,</span><br><span class="line">    &lt;% &#125; <span class="keyword">else</span> <span class="keyword">if</span> (theme.comments.valine.path) &#123; %&gt;</span><br><span class="line">      path: <span class="string">&quot;&lt;%= theme.comments.valine.path %&gt;&quot;</span>,</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    appId: <span class="string">&quot;&lt;%= theme.comments.valine.appId %&gt;&quot;</span>,</span><br><span class="line">    appKey: <span class="string">&quot;&lt;%= theme.comments.valine.appKey %&gt;&quot;</span>,</span><br><span class="line">    placeholder: <span class="string">&quot;&lt;%= (page.valine &amp;&amp; page.valine.placeholder) ? page.valine.placeholder : theme.comments.valine.placeholder %&gt;&quot;</span>,</span><br><span class="line">    pageSize:<span class="string">&#x27;&lt;%= theme.comments.valine.pageSize %&gt;&#x27;</span>,</span><br><span class="line">    avatar:<span class="string">&#x27;&lt;%= theme.comments.valine.avatar %&gt;&#x27;</span>,</span><br><span class="line">    lang:<span class="string">&#x27;&lt;%= theme.comments.valine.lang %&gt;&#x27;</span>,</span><br><span class="line">    visitor: <span class="string">&#x27;&lt;%= theme.comments.valine.visitor %&gt;&#x27;</span>,</span><br><span class="line">    highlight: <span class="string">&#x27;&lt;%= theme.comments.valine.highlight %&gt;&#x27;</span>,</span><br><span class="line">    mathJax: <span class="string">&#x27;&lt;%= theme.comments.valine.mathJax %&gt;&#x27;</span>,</span><br><span class="line">    enableQQ: <span class="string">&#x27;&lt;%= theme.comments.valine.enableQQ %&gt;&#x27;</span>,</span><br><span class="line">    requiredFields: requiredFields,</span><br><span class="line">    emojiCDN: <span class="string">&#x27;https://cdn.jsdelivr.net/gh/zyoushuo/Blog/emoji/&#x27;</span>,</span><br><span class="line">    emojiMaps: emojiMaps,</span><br><span class="line">	master: master,</span><br><span class="line">	friends: friends,</span><br><span class="line">  &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>此方法要在emojiCDN处添加地址。</p>
<h5 id="5、修改表情区域样式"><a href="#5、修改表情区域样式" class="headerlink" title="5、修改表情区域样式"></a>5、修改表情区域样式</h5><p>修改表情大小、背景颜色。在themes\volantis\source\css_third-party中的valine.styl文件</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">        <span class="selector-class">.vemojis</span>,<span class="selector-class">.vpreview</span></span><br><span class="line">+         <span class="attribute">background</span>: <span class="number">#fff</span>  //背景区域颜色</span><br><span class="line">          border-radius: $border-codeblock</span><br><span class="line">          padding: $gap * <span class="number">0.5</span></span><br><span class="line">+         border: <span class="number">1px</span> solid <span class="number">#f6f6f6</span> //边框</span><br><span class="line">          <span class="built_in">scrollbar</span>()</span><br><span class="line">          .vemoji</span><br><span class="line">+           max-height: <span class="number">40px</span>   //表情大小</span><br><span class="line">+           max-width: <span class="number">100px</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="6、评论区卡片式背景"><a href="#6、评论区卡片式背景" class="headerlink" title="6、评论区卡片式背景"></a>6、评论区卡片式背景</h5><p>具体样式就是给每一条评论加个背景边框。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">      <span class="selector-class">.vcards</span></span><br><span class="line">+       <span class="selector-class">.vcard</span></span><br><span class="line">+         <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>)</span><br><span class="line">+         padding: <span class="number">15px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">+         margin-bottom: <span class="number">10px</span></span><br><span class="line">+         border-radius: <span class="number">8px</span></span><br><span class="line">        .vquote</span><br><span class="line">          border-left: none</span><br><span class="line">        .vh</span><br><span class="line">          border-bottom: <span class="number">1px</span> dashed <span class="built_in">alpha</span>($color-text, .<span class="number">1</span>)</span><br><span class="line">+         .vcard</span><br><span class="line">+           box-shadow: none</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>🌻最后<br>虽然是对Volantis主题的美化，但是其他主题同样适用。学会使用F12，找准位置，然后找到对应的文件，按照语法格式修改即可。多去参考参考其他博主的网站。<br>目前对Volantis主题就修改了怎么多，若再有修改，日后添加。<br>注意事项<br>☆如果修改了样式发现没有变化，请使用<code>hexo cl</code>清理文件缓存、<code>Ctrl+F5</code>强制刷新、<code>Ctrl+shift+delete</code>清理浏览器缓存。（尤其是最后一个）</p>
<p>☆有时候在修改<code>styl文件</code>会出现错误，比如这样：<br><img src="https://cdn.jsdelivr.net/gh/zyoushuo/Blog/images/meihua_10.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/zyoushuo/Blog/images/meihua_10.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>
<p>可以发现是格式不正确，请删除多余的空格。<br>参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/cungudafa/article/details/105548858">Valine-1.4.4新版本尝鲜+个性制定（表情包、qq头像、UI样式</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.hclonely.com/posts/409d3090/">Valine添加博主标签及评论微信、QQ通知</a></p>
<p><a target="_blank" rel="noopener" href="https://bestzuo.cn/posts/halo-beauty.html">halo 博客深度定制与美化教程</a></p>

  
  
    
    <div class='footer'>
      
      
      
        <div class='copyright'>
          <blockquote>
            
              
                <p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p>

              
            
              
                <p>本文永久链接是：<a href=http://example.com/2020/11/19/hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E8%BF%9B%E9%98%B6/>http://example.com/2020/11/19/hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E8%BF%9B%E9%98%B6/</a></p>
              
            
          </blockquote>
        </div>
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-04-19T20:10:16+08:00">
  <a class='notlink'>
    <i class="fas fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：Apr 19, 2021</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="../../../../tags/hexo/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>hexo</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=http://example.com/2020/11/19/hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E8%BF%9B%E9%98%B6/&title=hexo主题美化进阶<hexo主题美化进阶> - 齐雨争&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://example.com/2020/11/19/hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E8%BF%9B%E9%98%B6/&title=hexo主题美化进阶<hexo主题美化进阶> - 齐雨争&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=http://example.com/2020/11/19/hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E8%BF%9B%E9%98%B6/&title=hexo主题美化进阶<hexo主题美化进阶> - 齐雨争&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='../../21/volantis%E4%B9%8B%E6%89%93%E8%B5%8F%E6%A8%A1%E5%9D%97/'>
          <p class='title'><i class="fas fa-chevron-left" aria-hidden="true"></i>volantis之打赏模块</p>
          <p class='content'>hexo博客打赏随着支付宝和微信转账支付的日益深入人心，有时候我们甚至可以在很多博客文章后面看到小编和文章作者自己添加的DIY打赏功能，包括微信、支付宝等扫描支付转账，本篇文章就是为hexo优化...</p>
        </a>
      
      
        <a class='next' href='../hexo%E4%B9%8BVolantis%E6%B7%BB%E5%8A%A0%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F/'>
          <p class='title'>hexo之Volantis添加暗黑模式<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>很久之前就想过给博客添加一个暗黑模式，一直搁置。直到Volantis更新到3.0版本后添加了暗黑模式，然而尝试之后的结果却不是那么满意。于是着手自己配置一下。
主要的实现方法参考了博主  cun...</p>
        </a>
      
    </div>
  
</article>


  

  <article class="post white-box reveal shadow" id="comments">
    <p ct><i class='fas fa-comments'></i> 评论</p>
    
    <div id="valine_container" class="valine_thread">
  <i class="fas fa-cog fa-spin fa-fw fa-2x"></i>
</div>

  </article>






</div>
<aside class='l_side'>
  
  
    
    



  <section class="widget toc-wrapper shadow desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"><span class="toc-text">文章目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BB%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA"><span class="toc-text">一、主界面显示</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E8%AE%BE%E7%BD%AE%E4%B8%BB%E9%A1%B5logo"><span class="toc-text">1、设置主页logo</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%B7%BB%E5%8A%A0%E5%B0%8F%E6%A0%87%E9%A2%98%E5%8A%A8%E6%80%81%E5%BD%A9%E8%89%B2%E5%AD%97%E4%BD%93"><span class="toc-text">2、添加小标题动态彩色字体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%95%8C%E9%9D%A2%E9%97%B4%E8%B7%9D"><span class="toc-text">3、界面间距</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%A1%B5%E9%9D%A2%E4%BC%98%E5%8C%96"><span class="toc-text">二、页面优化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E6%A0%B7%E5%BC%8F"><span class="toc-text">1、导航栏样式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E9%A1%B5%E9%9D%A2%E5%8D%A1%E7%89%87%E9%98%B4%E5%BD%B1"><span class="toc-text">2、页面卡片阴影</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E9%A1%B5%E9%9D%A2%E7%89%B9%E6%95%88"><span class="toc-text">3、页面特效</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E4%B8%BB%E9%A1%B5%E3%80%81%E6%AD%A3%E6%96%87%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E5%B1%85%E4%B8%AD"><span class="toc-text">4、主页、正文文章标题居中</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E9%93%BE%E6%8E%A5%E4%BC%98%E5%8C%96"><span class="toc-text">5、博客文章链接优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E6%B7%BB%E5%8A%A0%E9%BC%A0%E6%A0%87%E6%A0%B7%E5%BC%8F"><span class="toc-text">6、添加鼠标样式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E6%96%87%E7%AB%A0%E9%A6%96%E5%AD%97%E4%B8%8B%E6%B2%89"><span class="toc-text">7、文章首字下沉</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E6%96%87%E7%AB%A0%E6%9C%AB%E5%B0%BE%E7%89%88%E6%9D%83"><span class="toc-text">8、文章末尾版权</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81valine%E8%AF%84%E8%AE%BA%E4%BC%98%E5%8C%96"><span class="toc-text">三、valine评论优化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81Valine%E6%B7%BB%E5%8A%A0%E5%8D%9A%E4%B8%BB%E6%A0%87%E7%AD%BE"><span class="toc-text">1、Valine添加博主标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%AF%84%E8%AE%BA%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A8%80"><span class="toc-text">2、评论添加一言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E8%83%8C%E6%99%AF"><span class="toc-text">3、添加评论背景</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E6%83%85"><span class="toc-text">4、添加自定义表情</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%83%85%E5%8C%BA%E5%9F%9F%E6%A0%B7%E5%BC%8F"><span class="toc-text">5、修改表情区域样式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E8%AF%84%E8%AE%BA%E5%8C%BA%E5%8D%A1%E7%89%87%E5%BC%8F%E8%83%8C%E6%99%AF"><span class="toc-text">6、评论区卡片式背景</span></a></li></ol></li></ol></li></ol>
    </div>
  </section>


  


</aside>



		  
		  <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="hexo主题美化进阶&lt;hexo主题美化进阶&gt;";
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  // header 这里无论是否开启pjax都需要
  var l_header=document.getElementById("l_header");
  
  l_header.classList.remove("show");
  
  
    // cover
    var cover_wrapper=document.querySelector('.cover-wrapper');
    
    cover_wrapper.id="half";
    cover_wrapper.style.display="";
    
  
</script>

        </div>
        
  
  <footer class="footer clearfix">
    <br><br>
    
      
        <div class="aplayer-container">
          


        </div>
      
    
      
        <br>
        <div class="social-wrapper">
          
            
          
            
          
            
          
        </div>
      
    
      
        <div><p>Blog content follows the <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
      
    
      
        
          <div><p><span id="lc-sv">本站总访问量为 <span id='number'><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> 次</span> <span id="lc-uv">访客数为 <span id='number'><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span> 人</span></p>
</div>
        
      
    
      
        Use
        <a href="https://github.com/volantis-x/hexo-theme-volantis/tree/4.3.1" target="_blank" class="codename">Volantis</a>
        as theme
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright © 2017-2020 XXX</a></p>

        </div>
      
    
  </footer>


        <a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a>
      </div>
    </div>
    <div>
      <script>
/************这个文件存放不需要重载的全局变量和全局函数*********/
window.volantis={};
window.volantis.loadcss=document.getElementById("loadcss");
/******************** Pjax ********************************/
function VPjax(){
	this.list=[] // 存放回调函数
	this.start=()=>{
	  for(var i=0;i<this.list.length;i++){
		this.list[i].run();
	  }
	}
	this.push=(fn,name)=>{
		var f=new PjaxItem(fn,name);
		this.list.push(f);
	}
	// 构造一个可以run的对象
	function PjaxItem(fn,name){
		// 函数名称
		this.name = name || fn.name
		// run方法
		this.run=()=>{
			fn()
		}
	}
}
volantis.pjax={}
volantis.pjax.method={
	complete: new VPjax(),
	error: new VPjax(),
	send: new VPjax()
}
volantis.pjax={
	...volantis.pjax,
	push: volantis.pjax.method.complete.push,
	error: volantis.pjax.method.error.push,
	send: volantis.pjax.method.send.push
}
/********************脚本懒加载函数********************************/
// 已经加入了setTimeout
function loadScript(src, cb) {
	setTimeout(function() {
		var HEAD = document.getElementsByTagName('head')[0] || document.documentElement;
		var script = document.createElement('script');
		script.setAttribute('type','text/javascript');
		if (cb) script.onload = cb;
		script.setAttribute('src', src);
		HEAD.appendChild(script);
	});
}
//https://github.com/filamentgroup/loadCSS
var loadCSS = function( href, before, media, attributes ){
	var doc = window.document;
	var ss = doc.createElement( "link" );
	var ref;
	if( before ){
		ref = before;
	}
	else {
		var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
		ref = refs[ refs.length - 1];
	}
	var sheets = doc.styleSheets;
	if( attributes ){
		for( var attributeName in attributes ){
			if( attributes.hasOwnProperty( attributeName ) ){
				ss.setAttribute( attributeName, attributes[attributeName] );
			}
		}
	}
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	function ready( cb ){
		if( doc.body ){
			return cb();
		}
		setTimeout(function(){
			ready( cb );
		});
	}
	ready( function(){
		ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
	});
	var onloadcssdefined = function( cb ){
		var resolvedHref = ss.href;
		var i = sheets.length;
		while( i-- ){
			if( sheets[ i ].href === resolvedHref ){
				return cb();
			}
		}
		setTimeout(function() {
			onloadcssdefined( cb );
		});
	};
	function loadCB(){
		if( ss.addEventListener ){
			ss.removeEventListener( "load", loadCB );
		}
		ss.media = media || "all";
	}
	if( ss.addEventListener ){
		ss.addEventListener( "load", loadCB);
	}
	ss.onloadcssdefined = onloadcssdefined;
	onloadcssdefined( loadCB );
	return ss;
};
</script>
<script>
  
  loadCSS("https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14/css/all.min.css", window.volantis.loadcss);
  
  
  
  
</script>
<!-- required -->

<script src="../../../../https:/cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script>

<script>
  function pjax_fancybox() {
    $(".md .gallery").find("img").each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("class", "fancybox");
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".md .gallery").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  function SCload_fancybox() {
    if ($(".md .gallery").find("img").length == 0) return;
    loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css", document.getElementById("loadcss"));
    loadScript('https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js', pjax_fancybox)
  };
  $(function () {
    SCload_fancybox();
  });
  function Pjax_SCload_fancybox(){
	if (typeof $.fancybox == "undefined") {
	 SCload_fancybox();
    } else {
	 pjax_fancybox();
    }
  }
  volantis.pjax.push(Pjax_SCload_fancybox)
  volantis.pjax.send(()=>{
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
  },'fancybox')
</script>


<!-- internal -->

  
  
  
    
<script src="../../../../https:/cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script>

    <script type="text/javascript">
        var imgs=["https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg", "https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg", "https://ftp.bmp.ovh/imgs/2021/05/88e95a4028c2dea5.jpg"];
        if ('true' == 'true') {
          function shuffle(arr){
            /*From countercurrent-time*/
            var n = arr.length;
            while(n--) {
              var index = Math.floor(Math.random() * n);
              var temp = arr[index];
              arr[index] = arr[n];
              arr[n] = temp;
            }
          }
          shuffle(imgs);
        }
	  function Pjax_backstretch(){
        
          $('#cover-backstretch').backstretch(
            imgs,
          {
            duration: "10000",
            fade: "1500"
          });
        
	  }
	  loadScript("https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js",Pjax_backstretch)
    </script>
  



  
  

  <div id="rightmenu-wrapper">
    <ul class="list-v rightmenu" id="rightmenu-content">
      <li class='option'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-text' onclick="document.execCommand('copy')"><i class='fa fa-copy fa-fw'></i>Copy Text</a>
        <hr id='hr-text'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-href'><i class='fa fa-link fa-fw'></i>Copy Link</a>
        <a class='vlts-menu opt fix-cursor-default' id='menu-open-href'><i class='fa fa-external-link-square-alt fa-fw'></i>Open Link in New Tab</a>
        <hr id='hr-href'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-src'><i class='fa fa-image fa-fw'></i>Copy Image Link</a>
        <hr id='hr-src'>
      </li>
      
        <li class='navigation'>
          <a class='nav icon-only fix-cursor-default' onclick='history.back()'><i class='fa fa-arrow-left fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='history.forward()'><i class='fa fa-arrow-right fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='window.location.reload()'><i class='fa fa-redo fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' href='/'><i class='fa fa-home fa-fw'></i></a>
        </li>
      
      <hr>
      
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=../../../../https:/volantis.js.org/faqs/
        
        
        
        
          id="https:volantisjsorgfaqs"
        >
        <i class='fa fa-question fa-fw'></i> 常见问题
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=../../../../https:/volantis.js.org/examples/
        
        
        
        
          id="https:volantisjsorgexamples"
        >
        <i class='fa fa-rss fa-fw'></i> 示例博客
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=../../../../https:/volantis.js.org/contributors/
        
        
        
        
          id="https:volantisjsorgcontributors"
        >
        <i class='fa fa-fan fa-spin fa-fw'></i> 加入社区
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=../../../../https:/github.com/volantis-x/volantis-docs/
        
        
        
        
          id="https:githubcomvolantis-xvolantis-docs"
        >
        <i class='fa fa-code-branch fa-fw'></i> 本站源码
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=../../../../https:/github.com/volantis-x/hexo-theme-volantis/
        
        
        
        
          id="https:githubcomvolantis-xhexo-theme-volantis"
        >
        <i class='fa fa-code-branch fa-fw'></i> 主题源码
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' 
        
        
        
          onclick="document.execCommand('print')"
        
        >
        <i class='fa fa-print fa-fw'></i> 打印页面
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default toggle-mode-btn' 
        
        
        
        >
        <i class='fas fa-moon fa-fw'></i> Dark mode
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
      
    </ul>
  </div>

  <script>
    window.document.oncontextmenu = function (event) {
      if (event.ctrlKey) return true;
      if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true;
      return popMenu(event);
    };
    document.addEventListener("click", function (event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      mymenu.style.display = "none";
    });
    function popMenu(event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      var menuContent = document.getElementById('rightmenu-content');
      var screenWidth = document.documentElement.clientWidth || document.body.clientWidth;
      var screenHeight = document.documentElement.clientHeight || document.body.clientHeight;
      mymenu.style.left = event.clientX + "px"; // 获取鼠标位置
      mymenu.style.top = event.clientY + "px";
      mymenu.style.display = 'block';
      if (event.clientX * 2 > screenWidth) {
        menuContent.classList.add('left');
      } else {
        menuContent.classList.remove('left');
      }
      if (event.clientY * 2 > screenHeight) {
        menuContent.classList.add('top');
      } else {
        menuContent.classList.remove('top');
      }

      let hrText = document.getElementById('hr-text');
      let hrSrc = document.getElementById('hr-src');
      let hrHref = document.getElementById('hr-href');

      // 选中图片
      let copySrc = document.getElementById('menu-copy-src');
      if (copySrc != undefined) {
        if (event.target.currentSrc) {
          copySrc.style.display = 'block';
          copySrc.addEventListener("click", function (e) {
            copyString(event.target.currentSrc);
          },{once: true});
          hrSrc.style.display = 'block';
        } else {
          copySrc.style.display = 'none';
          hrSrc.style.display = 'none';
        }
      }

      // 选中按钮
      // 判断是不是按钮
      let href = '';
      if (event.path) {
        for (i = 0; i < event.path.length; i++) {
          if (event.path[i].href != undefined && event.path[i].href.length > 0) {
            href = event.path[i].href;
          }
        }
      }

      let copyText = document.getElementById('menu-copy-text');
      copyText.style.display = 'none';
      hrText.style.display = 'none';
      if (href.length == 0) {
        // 选中文本
        if (window.getSelection().toString()) {
          if ('' == 'true') {
            copyText.style.display = 'block';
            hrText.style.display = 'block';
          }
        }
      }

      // 在新标签页打开
      let openHref = document.getElementById('menu-open-href');
      if (openHref != undefined) {
        if (href.length > 0) {
          openHref.style.display = 'block';
          openHref.addEventListener("click", function (e) {
            window.open(href);
          },{once: true});
          hrHref.style.display = 'block';
        } else {
          openHref.style.display = 'none';
          hrHref.style.display = 'none';
        }
      }
      // 复制链接
      let copyHref = document.getElementById('menu-copy-href');
      if (copyHref != undefined) {
        if (href.length > 0) {
          copyHref.style.display = 'block';
          copyHref.addEventListener("click", function (e) {
            copyString(href);
          },{once: true});
        } else {
          copyHref.style.display = 'none';
        }
      }
      // 有音乐播放器 see: layout/_third-party/aplayer/script.ejs
      
      return false; // 该行代码确保系统自带的右键菜单不会被调出
    }
    function hideMenu() {
      document.getElementById('rightmenu-wrapper').style.display = 'none';
    }
    function copyString(str) {
      const input = document.createElement('input');
      input.setAttribute('readonly', 'readonly');
      document.body.appendChild(input);
      input.setAttribute('value', str);
      input.select();
      document.execCommand('copy');
      document.body.removeChild(input);
    }
    document.execCommand('click');
  </script>




<script>
  function loadIssuesJS() {
    if ($(".md").find(".issues-api").length == 0) return;
	
	  loadScript('../../../../js/issues.js');
	
  };
  $(function () {
    loadIssuesJS();
  });
  volantis.pjax.push(()=>{
	if (typeof IssuesAPI == "undefined") {
	  loadIssuesJS();
	}
  },"IssuesJS")
</script>



  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: [],
	maxRPS: 5,
	hoverDelay: 25
  };
</script>
<script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>











  
  
<script src="../../../../js/valine.js"></script>


<script>
  function emoji(path, idx, ext) {
    return path + "/" + path + "-" + idx + "." + ext;
  }
  var emojiMaps = {};
  for (var i = 1; i <= 54; i++) {
    emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
  }
  for (var i = 1; i <= 101; i++) {
    emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
  }
  for (var i = 1; i <= 116; i++) {
    emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
  }
  for (var i = 1; i <= 125; i++) {
    emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
  }
  for (var i = 1; i <= 4; i++) {
    emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
  }
  function pjax_valine() {
    if(!document.querySelectorAll("#valine_container")[0])return;
    let pagePlaceholder = pdata.commentPlaceholder || "快来评论吧~";
    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }
    var valine = new Valine();
    valine.init(Object.assign({"path":null,"placeholder":"快来评论吧~","appId":null,"appKey":null,"meta":["nick","mail","link"],"requiredFields":["nick","mail"],"enableQQ":true,"recordIP":false,"avatar":"robohash","pageSize":10,"lang":"zh-cn","highlight":true,"mathJax":false}, {
      el: '#valine_container',
      path: path,
      placeholder: pagePlaceholder,
      emojiCDN: 'https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/valine/',
      emojiMaps: emojiMaps,
    }))
  }
  $(function () {
    pjax_valine();
  });
  volantis.pjax.push(pjax_valine);
</script>






  
<script src="../../../../js/app.js"></script>



<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );

$('.input.u-search-input').one('focus',function(){
	
		loadScript('../../../../js/search/baidu.js',setSearchService);
	
})

function listenSearch(){
  
    const BAIDU_API_ID = "";
    customSearch = new BaiduSearch({
      apiId: BAIDU_API_ID,
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
		document.addEventListener("pjax:success", listenSearch);
	
}
</script>











  <script defer>

  const LCCounter = {
    app_id: 'u9j57bwJod4EDmXWdxrwuqQT-MdYXbMMI',
    app_key: 'jfHtEKVE24j0IVCGHbvuFClp',
    custom_api_server: '',

    // 查询存储的记录
    getRecord(Counter, url, title) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {url, title: title, times: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    },

    // 发起自增请求
    increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    },

    // 构建自增请求体
    buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "times": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    },

    // 校验是否为有效的 UV
    validUV() {
      var key = 'LeanCloudUVTimestamp';
      var flag = localStorage.getItem(key);
      if (flag) {
        // 距离标记小于 24 小时则不计为 UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    },

    addCount(Counter) {
      var enableIncr = '' === 'true' && window.location.hostname !== 'localhost';
      enableIncr = true;
      var getterArr = [];
      var incrArr = [];
      // 请求 PV 并自增
      var pvCtn = document.querySelector('#lc-sv');
      if (pvCtn || enableIncr) {
        var pvGetter = this.getRecord(Counter, 'http://example.com' + '/#lc-sv', 'Visits').then((record) => {
          incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-sv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + 1;
              if (pvCtn) {
                pvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(pvGetter);
      }

      // 请求 UV 并自增
      var uvCtn = document.querySelector('#lc-uv');
      if (uvCtn || enableIncr) {
        var uvGetter = this.getRecord(Counter, 'http://example.com' + '/#lc-uv', 'Visitors').then((record) => {
          var vuv = this.validUV();
          vuv && incrArr.push(this.buildIncrement(record.objectId))
          var eles = document.querySelectorAll('#lc-uv #number');
          if (eles.length > 0) {
            eles.forEach((el,index,array)=>{
              el.innerText = record.times + (vuv ? 1 : 0);
              if (uvCtn) {
                uvCtn.style.display = 'inline';
              }
            })
          }
        });
        getterArr.push(uvGetter);
      }

      // 请求文章的浏览数，如果是当前页面就自增
      var allPV = document.querySelectorAll('#lc-pv');
      if (allPV.length > 0 || enableIncr) {
        for (i = 0; i < allPV.length; i++) {
          let pv = allPV[i];
          let title = pv.getAttribute('data-title');
          var url = 'http://example.com' + pv.getAttribute('data-path');
          if (url) {
            var viewGetter = this.getRecord(Counter, url, title).then((record) => {
              // 是当前页面就自增
              let curPath = window.location.pathname;
              if (curPath.includes('index.html')) {
                curPath = curPath.substring(0, curPath.lastIndexOf('index.html'));
              }
              if (pv.getAttribute('data-path') == curPath) {
                incrArr.push(this.buildIncrement(record.objectId));
              }
              if (pv) {
                var ele = pv.querySelector('#lc-pv #number');
                if (ele) {
                  if (pv.getAttribute('data-path') == curPath) {
                    ele.innerText = (record.times || 0) + 1;
                  } else {
                    ele.innerText = record.times || 0;
                  }
                  pv.style.display = 'inline';
                }
              }
            });
            getterArr.push(viewGetter);
          }
        }
      }

      // 如果启动计数自增，批量发起自增请求
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && this.increment(Counter, incrArr);
        })
      }

    },


    fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': this.app_id,
            'X-LC-Key': this.app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      this.addCount(Counter);
    },

    refreshCounter() {
      var api_server = this.app_id.slice(-9) !== '-MdYXbMMI' ? this.custom_api_server : `https://${ this.app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;
      if (api_server) {
        this.fetchData(api_server);
      } else {
        fetch('https://app-router.leancloud.cn/2/route?appId=' + this.app_id)
          .then(resp => resp.json())
          .then(({api_server}) => {
            this.fetchData('https://' + api_server);
          });
      }
    }

  };

  LCCounter.refreshCounter();

  document.addEventListener('pjax:complete', function () {
    LCCounter.refreshCounter();
  });
</script>




  <script>
const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";

const setLS = (k, v) => {
    localStorage.setItem(k, v);
};

const removeLS = (k) => {
    localStorage.removeItem(k);
};

const getLS = (k) => {
    return localStorage.getItem(k);
};

const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};

const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};

const validColorModeKeys = {
  dark: true,
  light: true,
};

const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);

  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};

const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};

/**
 * get target mode
 */
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);

  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};

/**
 * bind click event for toggle button
 */
var btn=$("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn");
function bindToggleButton() {
    btn.on('click',(e) => {
      const mode = toggleCustomDarkMode();
      applyCustomDarkModeSettings(mode);
    });
}

applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
volantis.pjax.push(bindToggleButton);
volantis.pjax.send(()=>{
	btn.unbind('click');
},'toggle-mode-btn-unbind');
</script>








<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<!-- more -->

 
	   
	    


<script src="../../../../https:/cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）

      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
		// 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
		volantis.pjax.method.complete.start();
      } catch (e) {
        console.log(e);
      }
    });

    document.addEventListener('pjax:error', function (e) {
	  // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.error.start();
      window.location.href = e.triggerElement.href;
    });
</script>
 
	  

    </div>

<script src="//i2.wp.com/cdn.jsdelivr.net/gh/zyoushuo/Blog/hexo/js/sakura.js"></script>


  </body>


</html>
